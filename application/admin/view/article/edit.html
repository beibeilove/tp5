<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    {load href="/tp5/public/static/css/base.css"}
    {load href="/tp5/public/static/css/index.css"}
    {load href="/tp5/public/static/css/bootstrap.min.css"}
    {load href="/tp5/public/static/kindeditor/themes/default/default.css"}
</head>
<body>
    <div class="page">
        <form action="{:url('Article/updateArticle')}" id="form" method="post" enctype="multipart/form-data">
            <input type="hidden" name="id" value="{$content['id']}">
            <div class="form-group">
                <label for="title">标题：</label>
                <input type="text" class="form-control form-control-big" name="title" id="title" placeholder="标题" value="{$content['title']}">
            </div>
            <div class="form-group">
                <label for="author">作者：</label>
                <input type="text" class="form-control form-control-big" name="author" id="author" placeholder="作者" value="{$content['author']}">
            </div>
            <div class="form-group">
                <label for="copyfrom">来源：</label>
                <input type="text" class="form-control form-control-big" name="copyfrom" id="copyfrom" placeholder="来源" value="{$content['copyfrom']}">
            </div>
            <div class="form-group">
                <label for="linkurl">跳转链接：</label>
                <input type="text" class="form-control form-control-big" name="linkurl" id="linkurl" placeholder="跳转链接" value="{$content['linkurl']}">
            </div>
            <div class="form-group">
                <label for="desc">描述：</label>
                <textarea class="form-control form-control-big vertical" name="desc" id="desc" cols="30" rows="3" >{$content['desc']}</textarea>
            </div>
            <div class="form-group">
                <label for="content">内容：</label>
                <textarea class="form-control form-control-big vertical" name="content" id="content" style="width:800px;height:400px;visibility:hidden;display: block;">{$content['content']}</textarea>
            </div>
            <div class="form-group">
                <label for="imgurl">上传图片：</label>
                <span class="input_img vertical" style="background: url(/tp5/public/{$content['imgurl']}) center no-repeat;background-size: cover;">{if condition="!$content['imgurl']"}请上传照片{/if}</span>
                <input type="hidden" name="imgurl" id="imgurl" value="{$content['imgurl']}">
                <span class="file_add_box">
                    <span class="file_add">上传图片</span>
                    <input class="form-control vertical" type="file" value="{$content['imgurl']}">
                </span>
            </div>
            <div class="form-group">
                <label>推荐位：</label>
                {volist name="data" id="val"}
                <label class="checkbox-inline">

                    <input type="checkbox" value="{$val['posid']}" name="position[]" {volist name="type" id="v"}{if condition="$v==$val['posid']"} checked{/if}{/volist}>{$val['posname']}

                </label>
                {/volist}
            </div>
            <button type="submit" class="btn btn-default">提交</button>
        </form>
    </div>
</body>
{load href="/tp5/public/static/js/jquery.js"}
{load href="/tp5/public/static/yasuo/index/dists/lrz.bundle.js"}
{load href="/tp5/public/static/kindeditor/kindeditor-min.js"}
{load href="/tp5/public/static/kindeditor/lang/zh_CN.js"}
{load href="/tp5/public/static/js/upload.js"}
<script>
    var editor;
    KindEditor.ready(function(K) {
        editor = K.create('textarea[name="content"]', {
            allowFileManager : true
        });
        K('input[name=getHtml]').click(function(e) {
            alert(editor.html());
        });
        K('input[name=isEmpty]').click(function(e) {
            alert(editor.isEmpty());
        });
        K('input[name=getText]').click(function(e) {
            alert(editor.text());
        });
        K('input[name=selectedHtml]').click(function(e) {
            alert(editor.selectedHtml());
        });
        K('input[name=setHtml]').click(function(e) {
            editor.html('<h3>Hello KindEditor</h3>');
        });
        K('input[name=setText]').click(function(e) {
            editor.text('<h3>Hello KindEditor</h3>');
        });
        K('input[name=insertHtml]').click(function(e) {
            editor.insertHtml('<strong>插入HTML</strong>');
        });
        K('input[name=appendHtml]').click(function(e) {
            editor.appendHtml('<strong>添加HTML</strong>');
        });
        K('input[name=clear]').click(function(e) {
            editor.html('');
        });
    });
</script>
</html>